2024-12-17 12:09:37.330 +04:00 [INF] Application Starting
2024-12-17 12:09:38.852 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:09:39.879 +04:00 [INF] Successfully retrieved 0 packages.
2024-12-17 12:09:45.224 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:09:46.017 +04:00 [INF] Successfully retrieved 0 warehouses.
2024-12-17 12:09:46.018 +04:00 [INF] Fetching all vendors.
2024-12-17 12:09:46.074 +04:00 [INF] Successfully retrieved 0 vendors.
2024-12-17 12:12:23.878 +04:00 [INF] Application Starting
2024-12-17 12:12:26.424 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:12:27.867 +04:00 [INF] Successfully retrieved 0 packages.
2024-12-17 12:12:32.856 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:12:33.671 +04:00 [INF] Successfully retrieved 0 warehouses.
2024-12-17 12:12:33.674 +04:00 [INF] Fetching all vendors.
2024-12-17 12:12:33.689 +04:00 [INF] Successfully retrieved 0 vendors.
2024-12-17 12:13:09.713 +04:00 [INF] Creating a new package with details: VisionTech_Anbar_Project.Entities.Package.
2024-12-17 12:13:10.118 +04:00 [ERR] Error occurred while creating a package.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Categories_CategoryId". The conflict occurred in database "VisionTechAnbar", table "dbo.Categories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f3ee606e-7484-4179-8418-253128884ab1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Save() in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 125
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Create(T item) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 26
   at VisionTech_Anbar_Project.Services.PackageService.CreatePackageAsync(Package package) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\PackageService.cs:line 79
2024-12-17 12:15:51.476 +04:00 [INF] Application Starting
2024-12-17 12:15:52.843 +04:00 [INF] Creating a new category: Main.
2024-12-17 12:15:53.885 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:15:55.163 +04:00 [INF] Category Main successfully created.
2024-12-17 12:15:55.254 +04:00 [INF] Successfully retrieved 0 packages.
2024-12-17 12:15:59.125 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:15:59.983 +04:00 [INF] Successfully retrieved 0 warehouses.
2024-12-17 12:15:59.989 +04:00 [INF] Fetching all vendors.
2024-12-17 12:16:00.002 +04:00 [INF] Successfully retrieved 0 vendors.
2024-12-17 12:16:01.632 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:16:02.398 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:16:05.271 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:16:05.276 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:16:18.346 +04:00 [INF] Creating a new package with details: VisionTech_Anbar_Project.Entities.Package.
2024-12-17 12:16:18.565 +04:00 [ERR] Error occurred while creating a package.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Brands_BrandId". The conflict occurred in database "VisionTechAnbar", table "dbo.Brands", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d79225e4-f2e5-4a34-8d45-0ef247c18661
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Save() in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 125
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Create(T item) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 26
   at VisionTech_Anbar_Project.Services.PackageService.CreatePackageAsync(Package package) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\PackageService.cs:line 79
2024-12-17 12:51:16.424 +04:00 [INF] Application Starting
2024-12-17 12:51:45.305 +04:00 [INF] Application Starting
2024-12-17 12:52:18.668 +04:00 [INF] Application Starting
2024-12-17 12:52:20.171 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:52:21.591 +04:00 [INF] Successfully retrieved 0 packages.
2024-12-17 12:52:24.177 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:52:24.974 +04:00 [INF] Successfully retrieved 0 warehouses.
2024-12-17 12:52:24.975 +04:00 [INF] Fetching all vendors.
2024-12-17 12:52:24.989 +04:00 [INF] Successfully retrieved 0 vendors.
2024-12-17 12:52:32.866 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:52:33.644 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:52:40.440 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:52:40.446 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:56:17.744 +04:00 [INF] Application Starting
2024-12-17 12:56:18.998 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:56:20.159 +04:00 [INF] Successfully retrieved 0 packages.
2024-12-17 12:56:23.633 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:56:24.416 +04:00 [INF] Successfully retrieved 0 warehouses.
2024-12-17 12:56:24.417 +04:00 [INF] Fetching all vendors.
2024-12-17 12:56:24.428 +04:00 [INF] Successfully retrieved 0 vendors.
2024-12-17 12:56:30.441 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:56:31.227 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:56:37.787 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:56:37.792 +04:00 [WRN] No products found for category ID: 1.
2024-12-17 12:56:44.782 +04:00 [INF] Creating a new package with details: VisionTech_Anbar_Project.Entities.Package.
2024-12-17 12:56:45.073 +04:00 [INF] Package successfully created.
2024-12-17 12:56:45.077 +04:00 [INF] Image saved successfully from C:\Users\Said\Downloads\TIC_TAC.jpg to C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Images\Documents\1.jpg
2024-12-17 12:56:45.100 +04:00 [INF] Image successfully converted to Base64.
2024-12-17 12:56:52.565 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:56:53.306 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:56:56.871 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:56:56.873 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:13.728 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:57:13.740 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 12:57:20.670 +04:00 [INF] Fetching package with ID: 1 along with related navigation properties.
2024-12-17 12:57:20.708 +04:00 [INF] Successfully retrieved package with ID: 1.
2024-12-17 12:57:21.381 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:21.384 +04:00 [INF] Fetching category with ID: 1.
2024-12-17 12:57:22.128 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:22.143 +04:00 [INF] Category with ID: 1 successfully retrieved.
2024-12-17 12:57:22.161 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:22.164 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:24.476 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:24.477 +04:00 [INF] Fetching category with ID: 1.
2024-12-17 12:57:25.205 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:25.220 +04:00 [INF] Category with ID: 1 successfully retrieved.
2024-12-17 12:57:25.235 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:25.236 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:29.605 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:57:29.611 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 12:57:35.420 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:57:36.182 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 12:57:36.182 +04:00 [INF] Fetching all vendors.
2024-12-17 12:57:36.187 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 12:57:39.899 +04:00 [INF] Fetching all warehouses.
2024-12-17 12:57:40.660 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 12:57:40.660 +04:00 [INF] Fetching all vendors.
2024-12-17 12:57:40.664 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 12:57:51.021 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:51.760 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:52.713 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:57:52.715 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:57:55.001 +04:00 [INF] Creating a new category: grgr.
2024-12-17 12:57:55.013 +04:00 [INF] Category grgr successfully created.
2024-12-17 12:57:56.320 +04:00 [INF] Fetching products for category ID: 2.
2024-12-17 12:57:56.321 +04:00 [WRN] No products found for category ID: 2.
2024-12-17 12:58:05.261 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:58:05.267 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 12:58:09.653 +04:00 [INF] Fetching package with ID: 1 along with related navigation properties.
2024-12-17 12:58:09.661 +04:00 [INF] Successfully retrieved package with ID: 1.
2024-12-17 12:58:10.452 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:58:10.453 +04:00 [INF] Fetching category with ID: 2.
2024-12-17 12:58:10.507 +04:00 [ERR] Error occurred while fetching category with ID: 2.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.CategoryRepository.GetByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\CategoryRepository.cs:line 23
   at VisionTech_Anbar_Project.Services.CategoryService.GetCategoryByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\CategoryService.cs:line 49
2024-12-17 12:58:21.020 +04:00 [INF] Application Starting
2024-12-17 12:58:22.198 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:58:23.338 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 12:58:28.314 +04:00 [INF] Fetching package with ID: 1 along with related navigation properties.
2024-12-17 12:58:28.402 +04:00 [INF] Successfully retrieved package with ID: 1.
2024-12-17 12:58:29.125 +04:00 [INF] Fetching products for category ID: 1.
2024-12-17 12:58:29.140 +04:00 [INF] Fetching category with ID: 2.
2024-12-17 12:58:29.895 +04:00 [INF] Successfully retrieved 1 products for category ID: 1.
2024-12-17 12:58:29.916 +04:00 [INF] Category with ID: 2 successfully retrieved.
2024-12-17 12:58:29.916 +04:00 [INF] Fetching category with ID: 1.
2024-12-17 12:58:29.922 +04:00 [INF] Category with ID: 1 successfully retrieved.
2024-12-17 12:58:29.959 +04:00 [INF] Fetching products for category ID: 2.
2024-12-17 12:58:29.959 +04:00 [INF] Successfully retrieved 1 products for category ID: 2.
2024-12-17 12:58:38.157 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 12:58:38.163 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:35:15.900 +04:00 [INF] Application Starting
2024-12-17 14:35:17.263 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:35:19.473 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:35:24.679 +04:00 [INF] Fetching package with ID: 1 along with related navigation properties.
2024-12-17 14:35:24.764 +04:00 [INF] Successfully retrieved package with ID: 1.
2024-12-17 14:35:25.796 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:35:25.806 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:35:28.240 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:35:29.005 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:35:29.006 +04:00 [INF] Fetching all vendors.
2024-12-17 14:35:29.018 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:35:48.932 +04:00 [INF] Application Starting
2024-12-17 14:35:49.949 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:35:51.373 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:35:55.826 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:35:56.565 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:35:56.566 +04:00 [INF] Fetching all vendors.
2024-12-17 14:35:56.576 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:41:52.168 +04:00 [INF] Application Starting
2024-12-17 14:41:52.887 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:41:53.494 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:42:02.575 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:42:03.307 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:42:03.307 +04:00 [INF] Fetching all vendors.
2024-12-17 14:42:03.320 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:42:22.931 +04:00 [INF] Application Starting
2024-12-17 14:42:24.152 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:42:25.368 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:42:33.768 +04:00 [INF] Application Starting
2024-12-17 14:42:34.998 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:42:36.015 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:42:39.308 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:42:40.051 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:42:40.051 +04:00 [INF] Fetching all vendors.
2024-12-17 14:42:40.061 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:42:52.895 +04:00 [INF] Application Starting
2024-12-17 14:42:53.882 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:42:55.064 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:42:55.342 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:42:56.106 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:42:56.107 +04:00 [INF] Fetching all vendors.
2024-12-17 14:42:56.130 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:43:48.824 +04:00 [INF] Application Starting
2024-12-17 14:43:50.127 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:43:51.291 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:44:03.540 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:44:04.297 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:44:04.297 +04:00 [INF] Fetching all vendors.
2024-12-17 14:44:04.307 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:44:37.440 +04:00 [INF] Application Starting
2024-12-17 14:44:38.634 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:44:39.677 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:44:47.521 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:44:48.260 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:44:48.261 +04:00 [INF] Fetching all vendors.
2024-12-17 14:44:48.272 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:45:33.805 +04:00 [INF] Application Starting
2024-12-17 14:45:34.995 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:45:36.138 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:45:41.298 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:45:42.040 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:45:42.041 +04:00 [INF] Fetching all vendors.
2024-12-17 14:45:42.053 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:46:30.967 +04:00 [INF] Application Starting
2024-12-17 14:46:32.143 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:46:33.594 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:46:36.194 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:46:36.931 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:46:36.932 +04:00 [INF] Fetching all vendors.
2024-12-17 14:46:36.943 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:48:08.343 +04:00 [INF] Creating a new package with details: VisionTech_Anbar_Project.Entities.Package.
2024-12-17 14:48:08.446 +04:00 [ERR] Error occurred while creating a package.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Categories_CategoryId". The conflict occurred in database "VisionTechAnbar", table "dbo.Categories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7f7f5184-b15c-4cad-98e0-a178fdea38bb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Save() in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 125
   at VisionTech_Anbar_Project.Repositories.Base.BaseRepository`1.Create(T item) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\Base\BaseRepository.cs:line 26
   at VisionTech_Anbar_Project.Services.PackageService.CreatePackageAsync(Package package) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\PackageService.cs:line 79
2024-12-17 14:48:34.602 +04:00 [INF] Application Starting
2024-12-17 14:48:35.691 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:48:36.835 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:48:44.307 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:48:45.045 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:48:45.046 +04:00 [INF] Fetching all vendors.
2024-12-17 14:48:45.056 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:49:04.192 +04:00 [INF] Application Starting
2024-12-17 14:49:04.808 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:49:05.321 +04:00 [INF] Successfully retrieved 1 packages.
2024-12-17 14:49:09.137 +04:00 [INF] Fetching all warehouses.
2024-12-17 14:49:09.874 +04:00 [INF] Successfully retrieved 1 warehouses.
2024-12-17 14:49:09.875 +04:00 [INF] Fetching all vendors.
2024-12-17 14:49:09.889 +04:00 [INF] Successfully retrieved 1 vendors.
2024-12-17 14:49:37.158 +04:00 [INF] Creating a new package with details: VisionTech_Anbar_Project.Entities.Package.
2024-12-17 14:49:37.289 +04:00 [INF] Package successfully created.
2024-12-17 14:49:37.292 +04:00 [INF] Image saved successfully from C:\Users\Said\Downloads\1_pYNoBNenmkCnkSfez6IotQ.png to C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Images\Documents\3.png
2024-12-17 14:49:37.321 +04:00 [INF] Image successfully converted to Base64.
2024-12-17 14:49:49.647 +04:00 [INF] Fetching package with ID: 3 along with related navigation properties.
2024-12-17 14:49:49.680 +04:00 [INF] Successfully retrieved package with ID: 3.
2024-12-17 14:49:50.524 +04:00 [INF] Fetching category with ID: 2.
2024-12-17 14:49:51.282 +04:00 [INF] Category with ID: 2 successfully retrieved.
2024-12-17 14:49:51.282 +04:00 [INF] Fetching category with ID: 1.
2024-12-17 14:49:51.285 +04:00 [INF] Category with ID: 1 successfully retrieved.
2024-12-17 14:50:25.636 +04:00 [INF] Updating product with ID: 6.
2024-12-17 14:50:25.680 +04:00 [INF] Product with ID: 6 successfully updated.
2024-12-17 14:50:26.560 +04:00 [INF] Fetching category with ID: 2.
2024-12-17 14:50:26.561 +04:00 [ERR] Error occurred while fetching category with ID: 2.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.CategoryRepository.GetByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\CategoryRepository.cs:line 23
   at VisionTech_Anbar_Project.Services.CategoryService.GetCategoryByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\CategoryService.cs:line 49
2024-12-17 14:50:38.181 +04:00 [INF] Updating product with ID: 6.
2024-12-17 14:50:38.193 +04:00 [INF] Product with ID: 6 successfully updated.
2024-12-17 14:50:39.024 +04:00 [INF] Fetching category with ID: 1.
2024-12-17 14:50:39.024 +04:00 [ERR] Error occurred while fetching category with ID: 1.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VisionTech_Anbar_Project.Repositories.CategoryRepository.GetByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Repositories\CategoryRepository.cs:line 23
   at VisionTech_Anbar_Project.Services.CategoryService.GetCategoryByIdAsync(Int32 id) in C:\Users\Said\source\repos\VisionTechProject\VisionTechProject\VisionTech-Anbar\VisionTech Anbar Project\Services\CategoryService.cs:line 49
2024-12-17 14:50:45.486 +04:00 [INF] Updating product with ID: 6.
2024-12-17 14:50:45.497 +04:00 [INF] Product with ID: 6 successfully updated.
2024-12-17 14:50:46.658 +04:00 [INF] Fetching all packages with related navigation properties.
2024-12-17 14:50:46.664 +04:00 [INF] Successfully retrieved 2 packages.
